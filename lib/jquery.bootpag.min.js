/*
 
 bootpag - jQuery plugin for dynamic pagination

 Copyright (c) 2013 botmonster@7items.com

 Licensed under the MIT license:
   http://www.opensource.org/licenses/mit-license.php

 Project home:
   http://botmonster.com/jquery-bootpag/

 Version:  1.0.3

*/
(function(e,t){e.fn.bootpag=function(t){function i(t,i){var o,u=Math.floor(i/r.maxVisible)*r.maxVisible,a=t.find("li");a.removeClass("disabled");o=i-1<1?1:r.leaps&&i-1>r.maxVisible?Math.floor((i-1)/r.maxVisible)*r.maxVisible:i-1;a.first().toggleClass("disabled",i===1).attr("data-lp",o).find("a").attr("href",s(o));o=i+1>r.total?r.total:r.leaps&&i+1<r.total-r.maxVisible?u+r.maxVisible+1:i+1;a.last().toggleClass("disabled",i===r.total).attr("data-lp",o).find("a").attr("href",s(o));var f=a.filter("[data-lp="+i+"]");if(!f.not(".next,.prev").length){var l=i<=u?-r.maxVisible:0;a.not(".next,.prev").each(function(t){o=t+1+u+l;e(this).attr("data-lp",o).toggle(o<=r.total).find("a").html(o).attr("href",s(o))});f=a.filter("[data-lp="+i+"]")}f.addClass("disabled");n.trigger("page",i)}function s(e){return r.href.replace(r.hrefVariable,e)}var n=this,r=e.extend({total:0,page:1,maxVisible:null,leaps:true,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"»",prev:"«"},n.settings||{},t||{});if(r.total<=0)return this;if(!r.maxVisible)r.maxVisible=r.maxVisible;r.total=parseInt(r.total);r.page=parseInt(r.page);r.maxVisible=parseInt(r.maxVisible);r.maxVisible=r.maxVisible%2?r.maxVisible:r.maxVisible-1;n.settings=r;return this.each(function(){var t,n,o=e(this),u=['<ul class="bootpag">'],a=Math.max(r.page-1,1),f=Math.min(r.page+1,r.total),l=(r.maxVisible-1)/2,c=1,h=r.maxVisible;if(r.page>r.maxVisible-l){c=r.page-l;h=l+r.page}if(r.page>=r.total-l)c=r.total-r.maxVisible+1;h=Math.min(h,r.total);if(r.prev)u.push('<li data-lp="" class="prev"><a href="'+s(a)+'">'+r.prev+"</a></li>");for(var p=c;p<=h;p++)u.push('<li data-lp="'+p+'"><a href="'+s(p)+'">'+p+"</a></li>");if(r.next)u.push('<li data-lp="'+n+'" class="next"><a href="'+s(f)+'">'+r.next+"</a></li>");u.push("</ul>");o.find("ul.bootpag").remove();o.append(u.join("")).addClass("pagination");t=o.find("ul.bootpag");o.find("li").click(function(){var r=e(this);if(r.hasClass("disabled")){return}i(t,parseInt(r.attr("data-lp"),10))});i(t,r.page)})}})(jQuery,window)
